
\section{Specifica dei requisiti}

Di seguito \`e illustrata la specifica dettagliata dei requisiti.

\subsection{Requisiti funzionali}

I requisiti funzionali individuati per il sistema HBS sono i seguenti:

\begin{enumerate}
	\item Ogni utente correntista che ne faccia esplicita richiesta deve avere un account personale e deve potersi iscrivere  mediante apposite procedure (business case in figura \ref{fig:business_case_registration}).
	\item Un utente registrato deve poter effettuare l'amministrazione corretta del proprio conto corrente (business case in figura \ref{fig:business_case_generic_operation}), per questa ragione è richiesto che:
	\begin{enumerate}
		\item l'utente possa verificare in tempo reale:
			\begin{enumerate}
				\item il suo saldo attuale;
				\item il suo saldo contabile;
				\item il suo saldo liquido;
			\end{enumerate} 
		\item l'utente deve poter verificare in tempo reale l'andamento dei titoli azionari che possiede e, nel caso, venderli;
		\item l'utente deve poter effettuare operazioni programmate di revisione dei conti o di pagamento;
		\item l'utente deve poter effettuare \emph{operazioni veloci}, ossia inserire pochi dati in una maschera preconfigurata, come :
			\begin{enumerate}
				\item ricariche telefoniche;
				\item bonifici ordinari;
				\item bonifici SEPA;
				\item pagamento delle bollette.
			\end{enumerate} 
	\end{enumerate}
	\item L'utente deve poter consultare lo storico delle transazioni eseguite, complete delle informazioni riguardanti la data, il destinatario, l'importo previsto e una causale descrittiva delle motivazioni.
	\item L'utente deve poter ottenere, in tempo reale, un resoconto delle transazioni che sono in corso da e verso il suo conto.
	\item I dipendenti di una banca, impiegati e manager, devono poter accedere al sistema mediante specifico e personale account.
	\item I dipendenti di una banca devono poter creare i form per la gestione delle operazioni veloci.
	\item I manager devono poter accettare o rifiutare le proposte di bidding per conti correnti, carte di credito e prestiti fatte dagli utenti che rientrano nell'insieme di proposte soggette a approvazione dei manager della banca.
	\item I manager devono poter gestire il bidding eventualmente offerto della banca, specificando in modo opportuno per conti correnti, carte di credito e prestiti i parametri che individuano i bid accettati automaticamente, soggetti a ulteriore approvazione, rifiutati automaticamente.
	I parametri di decisione comprendono i parametri di conti correnti, carte di credito e prestiti, e parametri riguardanti i clienti della banca:
		\begin{enumerate}
			\item giacenza media mensile e annuale sui conti correnti dell'utente;
			\item affidibilit\`a dell'utente (in funzione, ad esempio, della frequenza con cui i suoi conti correnti sono andati in rosso);
			\item da quanto tempo il correntista \`e cliente presso la banca;
			\item eventuali altri parametri.
		\end{enumerate}
	\item I manager devono poter creare \emph{pacchetti di investimento}.
		Un pacchetto di investimento contiene titoli azionari prelevati da un \emph{pool} di azioni acquistate dalla banca.
		Il pacchetto di investimento deve contenere le seguenti informazioni:
		\begin{enumerate}
			\item andamento passato dei titoli contenuti nel pacchetto;
			\item valutazione di rischio prodotta dal manager che ha creato il pacchetto;
			\item costo del pacchetto;
			\item valore garantito di vendita del pacchetto;
			\item percentuale di guadagno della banca alla vendita del pacchetto.
		\end{enumerate}
		I pacchetti di investimento vengono acquistati dai clienti della banca e formano un \emph{portafoglio di investimento}.
	\item I manager devono poter gestire in modo efficiente gli spazi pubblicitari offerti dalle pagine web del sistema, potendone arbitrariamente modificare i contenuti e indirizzando determinate pubblicità ad determinati insiemi di utenti aventi delle caratteristiche desiderate.
	\item Il sistema HBS deve inviare ad ogni utente una notifica tramite SMS o e-mail (a scelta dell'utente) a seguito di ogni operazione tra le seguenti:
		\begin{enumerate}
			\item ogni volta che si conclude una transazione da o verso il proprio conto corrente;
			\item ad ogni login e logout dall'account HBS;
			\item ad ogni \emph{operazione veloce} di pagamento.
		\end{enumerate}
	Ogni notifica \`e abilitabile o disabilitabile singolarmente secondo le preferenze dell'utente.
	\item Il sistema di Home Banking deve fornire ai suoi utenti (clienti della banca, dipendenti della banca, agenti di terze parti) la possibilit\`a di visualizzare uno storico dettagliato di ogni operazione (requisito funzionale) effettuata.
\end{enumerate}

\subsection{Requisiti non funzionali}

\begin{enumerate}
	\item Ogni operazione effettuata da un utente (cliente della banca o dipendente della banca) sul sistema deve essere registrata in un log.
	Ogni log deve contenere quantomeno le seguenti informazioni:
	\begin{itemize}
		\item un'identificativo del tipo di operazione eseguita;
		\item il conto coinvolto nell'operazione;
		\item l'istante dell'operazione;
		\item informazioni riguardanti il terminale da cui \`e stata effettuata l'operazione.
	\end{itemize}

	\item Il sistema di Home Banking ha dei requisiti impliciti di disponibilit\`a, ovvero il sistema deve avere una percentuale minima garantita di \emph{uptime}, o tempo in cui il sistema \`e disponibile e utilizzabile dagli utenti.

	La percentuale di \emph{uptime} non comprende eventuale tempo di \emph{downtime} previsto periodicamente per motivi di manutenzione, ottimizzazione delle prestazioni, aggiornamento, etc.

	Le percentuali di \emph{uptime} garantito e di \emph{downtime} richiesto devono essere definite in funzione della quantit\`a di operazioni gestita dal sistema, ossia in funzione del numero di utenti attivi presso un particolare istituto bancario e della mole di transazioni effettuate quotidianamente, e in funzione delle caratteristiche delle macchine su cui il software viene installato presso un particolare istituto bancario.

	La percentuale di \emph{uptime} garantito e di \emph{downtime} richiesto deve quindi essere stabilita e personalizzata al momento della vendita del software ad un istituto bancario.

	\item Il sistema di Home Banking ha dei requisiti impliciti di usabilit\`a, ovvero:
	\begin{enumerate}
		\item deve essere utilizzabile senza particolare addestramento dai clienti della banca;
		\item deve essere utilizzabile dopo addestramento minimo dai dipendenti della banca.
	\end{enumerate}
	Le operazioni disponibili per i clienti della banca (requisiti funzionali) devono essere facilmente utilizzabili e comprensibili.
	Ogni maschera per l'inserimento di informazioni deve essere corredata da opportuni testi brevi illustranti il tipo di informazioni richieste.
\end{enumerate}

\subsubsection{Requisiti di sicurezza del sistema}

Il sistema di Home Banking presenta forti requisiti non funzionali di sicurezza.

\begin{enumerate}
	\item L'accesso al sistema di Home Banking da parte di un utente avviene a seguito di autenticazione dello stesso.
		Le credenziali di accesso devono essere trasmesse dal browser dell'utente al sistema di Home Banking utilizzando una connessione sicura.
	\item Le credenziali d'accesso per un account sono:
		\begin{enumerate}
			\item numero conto corrente;
			\item password fornita al correntista al momento della registrazione.
		\end{enumerate}
	\item Le operazioni effettuabili dall'utente (requisiti funzionali) sono partizionate in operazioni che richiedono un'ulteriore autenticazione tramite One Time Password e operazioni che \emph{non} richiedono ulteriore autenticazione.
	Ogni operazione \`e eseguibile solo dopo che l'utente ha effettuato l'accesso al sistema di Home Banking.

	Le seguenti operazioni non richiedono ulteriore autenticazione:
	\begin{enumerate}
		\item visionare saldo contabile, disponibile e liquido;
		\item visionare uno storico delle transazioni effettuate;
		\item visionare informazioni riguardo le carte di credito collegate al conto (se presenti);
		\item effettuare ``operazioni veloci'' impostate attraverso un sistema di configurazione.
	\end{enumerate}
	
	Ogni altra operazione richiede autenticazione tramite One Time Password.
	In particolare \`e richiesta autenticazione tramite One Time Password per:
	\begin{enumerate}
		\item effettuare transazioni, come:
		\begin{itemize}
			\item bonifici ordinari, bonifici SEPA;
			\item ricariche carte prepatate e schede telefoniche;
			\item pagamento bollette, bollettini, tasse, etc;
			\item modificare le preferenze dell'utente, come frequenza delle notifiche, etc.
		\end{itemize}
		\item configurare operazioni veloci.
	\end{enumerate}
\end{enumerate}

\subsection{Requisiti di dominio}

La legislazione attuale richiede che gli organi di controllo finanziario come la Banca d'Italia e le forze dell'ordine possano accedere in lettura a tutte le informazioni salvate dal sistema di Online Banking.

\begin{enumerate}
\item Ogni sistema informatico nell'ambito bancario, e in particolare il software HBS in sviluppo, deve permettere l'accesso da remoto alla sua rete interna tramite il meccanismo di \emph{VPN}.
	HBS deve quindi fornire alle autorit\`a di controllo le credenziali e/o interfacce per accedere ai sistemi di \emph{data storage}.

	\item Le forze dell'ordine devono poter:
	\begin{enumerate}
    	\item Dato un utente visualizzare le seguenti informazioni:
        	\begin{enumerate}
            	\item tutte le transazioni effettuati dall'utente;
            	\item tutte le transazioni che hanno l'utente come destinatario;
	            \item dati anagrafici dell'utente;
    	        \item informazioni riguardo al terminale informatico dal quale l'\emph{account} dell'utente \`e stato acceduto in precedenza.
	        \end{enumerate}
	    \item In caso le informazioni siano ridondanti il sistema pu\`o fornire alle ff. oo. un modo per confrontare le informazioni e fare il controllo di coerenza.
	\end{enumerate}
%TODO da qualche parte bisogna dire che un haxxor in genere non puo modificare tutti i log in maniera coerente, perche pensa a rubare i dindi invece di giocare ad uplink

	\item L'organo di controllo finanziario deve poter:
	\begin{enumerate}
    	\item Dato un utente visualizzare le seguenti informazioni:
        	\begin{enumerate}
	            \item tutte le transazioni effettuati dall'utente;
    	        \item tutte le transazioni che hanno l'utente come destinatario;
	            \item lo storico di Online Trading dell'utente.
    	    \end{enumerate}
	\end{enumerate}
	La normativa legale richiede che un sistema in grado di offrire funzionalit\`a di trading fornisca all'organo di controllo finanziario l'accesso allo storico delle operazioni, in particolare l'organo di controllo deve poter:
	\begin{enumerate}
    	\item visualizzare le informazioni dei pacchetti di Online Trading;
    	\item visualizzre lo storico del sistema di Online Trading.
    	%TODO non so se ci va visualizzare mutui e tassi
	\end{enumerate}

	\item Poich\'e il sistema di Bidding deve rispettare le normative legali, per esempio le leggi sull'usura bancaria, l'ente responsabile del controllo finanziario deve poter:
	\begin{enumerate}
    	\item accedere allo storico del sistema Bidding;
    	\item visualizzare i parametri entro i quali le proposte vengono accettate automaticamente;
    	\item visualizzare informazioni delle proposte accettate dal management;
    	\item visualizzare proposte negate dal management.
	\end{enumerate}

\end{enumerate}

%TODO conti sono observable, la gg.ff. puo definire trigger. .. . \ldots .. \ldots \ldots eas\ldots \ldots .. \ldots \ldots ..




